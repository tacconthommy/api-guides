# Entities
<a name="entities"></a>The itembase API /v1 uses the following entities (in Json Schema notation).
There are four main entity types: _Transaction_, _Product_, _Buyer_ and _Profile_.

Version /v2 added the _Snippet_ (for frontend manipulation) and the _Job_ (for asynchronous request handling) entities.

<aside class="notice">Entities that originate from the same data connection have the same source_id. Get the Profile resource which describes the user's profile on the remote platform (e.g. a seller's account, a shop profile) to understand where the related entities (i. E. with the same source_id) originate.</aside>

## Profile Version 1.2
The Profile resource describes the connected profile on the remote platform (e.g. an eBay seller's account, a Magento installation's shop information). Get the Profile resource which describes the user's profile on the remote platform (e.g. a seller's account, a shop profile) to understand where the related entities (i. E. with the same source_id) originate.

```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.com/v1/profile.v1.2.schema.json",
  "type": "object",
  "required": [
    "id",
    "source_id",
    "original_reference",
    "platform_name",
    "created_at"
  ],
  "properties": {
    "id": {
      "id": "id",
      "type": "string"
    },
    "source_id": {
      "id": "source_id",
      "type": "string"
    },
    "original_reference": {
      "id": "original_reference",
      "type": "string",
      "description": "The identifier of this profile's owner as defined by the source, e.g. an eBay EIASToken."
    },
    "platform_id": {
      "id": "platform_id",
      "type": "string",
      "description": "Identifier of the platform as defined by the source itself, for instance, amazon.com id is: ATVPDKIKX0DER"
    },
    "platform_name": {
      "id": "platform_name",
      "type": "string",
      "description": "Name of the platform, mostly a domain name like amazon.com"
    },
    "active": {
      "id": "active",
      "type": "boolean"
    },
    "status": {
      "id": "status",
      "type": "string"
    },
    "type": {
      "id": "type",
      "type": "string"
    },
    "display_name": {
      "id": "display_name",
      "type": "string",
      "description": "The name of the resource owner's account on the remote platform, e.g. an eBay username."
    },
    "url": {
      "id": "url",
      "type": "string",
      "pattern": "^(https?|ftp|mailto)?:\/\/.+$"
    },
    "avatar_url": {
      "id": "avatar_url",
      "type": "string",
      "pattern": "^(https?|ftp):\/\/.+$"
    },
    "language": {
      "id": "language",
      "type": "string",
      "pattern": "^[a-z]{2}$"
    },
    "locale": {
      "id": "locale",
      "type": "string",
      "pattern": "^[a-z]{2}_[A-Z]{2}$"
    },
    "currency": {
      "$ref": "./currency.v1.0.schema.json#/"
    },
    "contact": {
      "$ref": "./contact.v1.0.schema.json#/"
    },
    "created_at": {
      "id": "created_at",
      "type": "string",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    },
    "updated_at": {
      "id": "updated_at",
      "type": "string",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    }
  }
}
```

## Base Buyer Version 1.0
A base buyer is an abstract buyer schema.

```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/base_buyer.v1.0.schema.json",
  "type": "object",
  "properties": {
    "id": {
      "id": "id",
      "type": "string",
      "description": "A hash of the original_reference and the source_id. Unique."
    },
    "source_id": {
      "id": "source_id",
      "type": "string",
      "description": "An alphanumerical string that identifies the source of this buyer. All entities that are generated by the same connection will have the same source_id."
    },
    "original_reference": {
      "id": "original_reference",
      "type": "string",
      "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
    }
  },
  "required": [
    "id",
    "source_id",
    "original_reference"
  ]
}
```

## Buyer Version 1.2
Buyers are clients registered with a shop or platform (this means that the set of buyers is not necessarily the same as all participants a shop's transactions.

```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/buyer.v1.2.schema.json",
  "type": "object",
  "allOf": [
    {
      "$ref": "./base_buyer.v1.0.schema.json#/"
    },
    {
      "properties": {
        "display_name": {
          "id": "display_name",
          "type": "string",
          "description": "Displayed buyer name i.e. first name and last name or user name."
        },
        "url": {
          "id": "url",
          "type": "string",
          "description": "A url to this buyer.",
          "pattern": "^(https?|ftp|mailto):\/\/.+$"
        },
        "active": {
          "id": "active",
          "type": "boolean",
          "description": "Whether the customer's account is active or deactivated."
        },
        "status": {
          "id": "status",
          "type": "string",
          "description": "Status of the buyer.",
          "enum": [
            "new",
            "confirmed",
            "deleted"
          ]
        },
        "type": {
          "id": "type",
          "type": "string",
          "description": "Type of the buyer.",
          "enum": [
            "company",
            "person",
            "government",
            "other"
          ]
        },
        "first_name": {
          "id": "first_name",
          "type": "string",
          "description": "First name."
        },
        "last_name": {
          "id": "last_name",
          "type": "string",
          "description": "Last name."
        },
        "language": {
          "id": "language",
          "type": "string",
          "description": "ISO 639-1 2 letter code of the language.",
          "pattern": "^[a-z]{2}$"
        },
        "locale": {
          "id": "locale",
          "type": "string",
          "description": "ISO 639-1 (language) followed by and underscore and a ISO 3166-1 alpha-2 (2-letter country) code.",
          "pattern": "^[a-z]{2}_[A-Z]{2}$"
        },
        "currency": {
          "$ref": "./currency.v1.0.schema.json#/"
        },
        "date_of_birth": {
          "id": "date_of_birth",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DD.",
          "pattern": "^[1-2][0-9]{3}-[0-9]{2}-[0-9]{2}$"
        },
        "opt_out": {
          "id": "opt_out",
          "type": "boolean",
          "description": "If the buyer has opted-out of any marketing communication."
        },
        "note": {
          "id": "note",
          "type": "string",
          "description": "Free-text notes."
        },
        "contact": {
          "$ref": "./contact.v1.0.schema.json#/"
        },
        "created_at": {
          "id": "created_at",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
          "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
        },
        "updated_at": {
          "id": "updated_at",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
          "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
        }
      },
      "required": [
        "created_at"
      ]
    }
  ]
}
```

## Transaction Version 1.4
```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/transaction.v1.4.schema.json",
  "type": "object",
  "properties": {
    "id": {
      "id": "id",
      "type": "string",
      "description": "A hash of the original_reference and the source_id. Unique."
    },
    "source_id": {
      "id": "source_id",
      "type": "string",
      "description": "An alphanumerical string that identifies the source of this transaction. All entities that are generated by the same connection will have the same source_id."
    },
    "original_reference": {
      "id": "original_reference",
      "type": "string",
      "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
    },
    "created_at": {
      "id": "created_at",
      "type": "string",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    },
    "updated_at": {
      "id": "updated_at",
      "type": "string",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    },
    "currency": {
      "id": "currency",
      "type": "string",
      "pattern": "^[A-Z]{3}$",
      "description": "An ISO4217 currency code."
    },
    "total_price": {
      "id": "total_price",
      "type": "number",
      "description": "The total price of this transaction including taxes, shipping etc.",
      "minimum": 0
    },
    "total_price_net": {
      "id": "total_price_net",
      "type": "number",
      "description": "The total price of this transaction without taxes.",
      "minimum": 0
    },
    "total_tax": {
      "id": "total_tax",
      "type": "number",
      "description": "The total taxes paid for this.",
      "minimum": 0
    },
    "status": {
      "id": "status",
      "type": "object",
      "properties": {
        "global": {
          "id": "global",
          "type": "string",
          "enum": [
            "open",
            "completed",
            "cancelled"
          ]
        },
        "payment": {
          "id": "payment",
          "type": "string",
          "enum": [
            "not_paid",
            "processing",
            "partial",
            "paid",
            "cancelled",
            "refunded"
          ]
        },
        "shipping": {
          "id": "payment",
          "type": "string",
          "enum": [
            "not_shipped",
            "pickpack",
            "pending",
            "partial",
            "completed",
            "returned"
          ]
        }
      },
      "required": [
        "global"
      ]
    },
    "products": {
      "id": "products",
      "type": "array",
      "items": {
        "allOf": [
          {
            "$ref": "./product.v1.2.schema.json#/"
          },
          {
            "properties": {
              "quantity": {
                "id": "quantity",
                "type": "number",
                "minimum": 0
              },
              "total_line_items": {
                "id": "total_line_items",
                "type": "number",
                "description": "The total of this line item including taxes.",
                "minimum": 0
              },
              "tax_rate": {
                "id": "tax_rate",
                "type": "number",
                "description": "The tax rate in percent, i.E. from 0 to 100.",
                "minimum": 0,
                "maximum": 100
              },
              "total_line_items_tax": {
                "id": "total_line_items_tax",
                "type": "number",
                "description": "The total tax of this line item.",
                "minimum": 0
              },
              "shipping_provider": {
                "id": "shipping_provider",
                "type": "string",
                "description": "The name of the shipping service selected, as provied by the source."
              },
              "tracking_url": {
                "id": "tracking_url",
                "type": "string",
                "pattern": "^(https?|ftp):\/\/.+$",
                "description": "A URL to the shipment tracking."
              }
            },
            "required": [
              "quantity",
              "total_line_items",
              "tax_rate",
              "total_line_items_tax"
            ]
          }
        ]
      }
    },
    "shipping": {
      "id": "shipping",
      "type": "object",
      "description": "Contains this shipping destination and the cost of shipping to this address.",
      "allOf": [
        {
          "$ref": "./address.v1.2.schema.json#"
        },
        {
          "properties": {
            "price": {
              "id": "price",
              "type": "number",
              "minimum": 0
            }
          },
          "required": [
            "price"
          ]
        }
      ]
    },
    "billing": {
      "$ref": "./address.v1.2.schema.json#"
    },
    "buyer": {
      "$ref": "./buyer.v1.2.schema.json#"
    }
  },
  "required": [
    "id",
    "source_id",
    "original_reference",
    "created_at",
    "currency",
    "total_price",
    "total_price_net",
    "total_tax",
    "status",
    "products",
    "buyer"
  ]
}
```

## Base Product Version 1.0
An abstract base product schema, used by Product Version 1.* schemas.

```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/base_product.v1.0.schema.json",
  "type": "object",
  "properties": {
    "id": {
      "id": "id",
      "type": "string",
      "description": "A hash of the original_reference and the source_id. Unique."
    },
    "source_id": {
      "id": "source_id",
      "type": "string",
      "description": "An alphanumerical string that identifies the source of this product. All entities that are generated by the same connection will have the same source_id."
    },
    "original_reference": {
      "id": "original_reference",
      "type": "string",
      "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
    },
    "name": {
      "id": "name",
      "type": "array",
      "description": "List of product names in different languages.",
      "items": {
        "type": "object",
        "properties": {
          "language": {
            "id": "language",
            "type": "string",
            "description": "Language of product name."
          },
          "value": {
            "id": "value",
            "type": "string",
            "description": "Product name."
          }
        }
      }
    },
    "currency": {
      "$ref": "./currency.v1.0.schema.json#/"
    },
    "price_per_unit": {
      "id": "price_per_unit",
      "type": "number",
      "description": "Final gross price.",
      "minimum": 0
    },
    "tax_rate": {
      "id": "tax_rate",
      "type": "number",
      "description": "Tax percentage.",
      "minimum": 0,
      "maximum": 100
    },
    "tax": {
      "id": "tax",
      "type": "number",
      "description": "Tax value.",
      "minimum": 0
    },
    "identifier": {
      "id": "identifier",
      "type": "object",
      "description": "List of product identifiers.",
      "properties": {
        "sku": {
          "id": "sku",
          "type": "string",
          "description": "Sku identifier."
        },
        "ean": {
          "id": "ean",
          "type": "string",
          "description": "Sku identifier."
        },
        "asin": {
          "id": "asin",
          "type": "string",
          "description": "Asin identifier."
        },
        "upc": {
          "id": "upc",
          "type": "string",
          "description": "Upc identifier."
        },
        "mpn": {
          "id": "mpn",
          "type": "string",
          "description": "Mpn identifier."
        },
        "id": {
          "id": "id",
          "type": "string",
          "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
        }
      }
    }
  },
  "required": [
    "id",
    "source_id",
    "original_reference",
    "name",
    "currency",
    "price_per_unit",
    "tax_rate"
  ]
}
```

## Product Version 1.2
This product entity extends the "base product" and is exposed via the API.

```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/product.v1.2.schema.json",
  "type": "object",
  "allOf": [
    {
      "$ref": "./base_product.v1.0.schema.json#/"
    },
    {
      "properties": {
        "url": {
          "id": "url",
          "type": "string",
          "description": "A url to this product.",
          "pattern": "^(https?|ftp):\/\/.+$"
        },
        "created_at": {
          "id": "created_at",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
          "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
        },
        "updated_at": {
          "id": "updated_at",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
          "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
        },
        "active": {
          "id": "active",
          "type": "boolean",
          "description": "Whether the product is active or deactivated."
        },
        "condition": {
          "id": "condition",
          "enum": [
            "new",
            "used",
            "refurbished"
          ],
          "type": "string",
          "description": "Product condition."
        },
        "stock_information": {
          "id": "stock_information",
          "type": "object",
          "description": "Stock information object.",
          "properties": {
            "in_stock": {
              "id": "in_stock",
              "type": "boolean",
              "description": "Whether the product i in stock or not."
            },
            "inventory_level": {
              "id": "inventory_level",
              "type": "number",
              "description": "Amount of products units in stock.",
              "minimum": 0
            },
            "inventory_unit": {
              "id": "inventory_unit",
              "type": "string",
              "description": "Type of product inventory unit."
            }
          },
          "required": [
            "in_stock"
          ]
        },
        "description": {
          "id": "description",
          "type": "array",
          "description": "List of product descriptions in different languages.",
          "items": {
            "type": "object",
            "properties": {
              "language": {
                "id": "language",
                "type": "string",
                "description": "Language of product description."
              },
              "value": {
                "id": "value",
                "type": "string",
                "description": "Product description."
              }
            }
          }
        },
        "additional_attributes": {
          "id": "additional_attributes",
          "type": "object",
          "description": "Product attributes.",
          "properties": {
            "colors": {
              "id": "colors",
              "type": "array",
              "description": "Array with product colors.",
              "items": {
                "type": "string"
              }
            },
            "sizes": {
              "id": "sizes",
              "type": "array",
              "description": "Array with product sizes.",
              "items": {
                "type": "string"
              }
            },
            "weight": {
              "id": "weight",
              "type": "number",
              "description": "Product weight."
            },
            "dimensions": {
              "id": "dimensions",
              "type": "object",
              "description": "Product dimensions.",
              "properties": {
                "length": {
                  "id": "length",
                  "type": "number",
                  "description": "Product length."
                },
                "width": {
                  "id": "width",
                  "type": "number",
                  "description": "Product width."
                },
                "height": {
                  "id": "height",
                  "type": "number",
                  "description": "Product height."
                }
              },
              "required": [
                "length",
                "width",
                "height"
              ]
            }
          }
        },
        "categories": {
          "id": "categories",
          "type": "array",
          "description": "List of product categories.",
          "items": {
            "type": "object",
            "properties": {
              "category_id": {
                "id": "category_id",
                "type": "string",
                "description": "Product category id."
              },
              "language": {
                "id": "language",
                "type": "string",
                "description": "Product category name language.",
                "pattern": "^[A-Za-z]{2}$"
              },
              "value": {
                "id": "value",
                "type": "string",
                "description": "Product category name."
              }
            }
          }
        },
        "picture_urls": {
          "id": "picture_urls",
          "type": "array",
          "description": "List of product images.",
          "items": [
            {
              "type": "object",
              "properties": {
                "id": {
                  "id": "id",
                  "type": "integer",
                  "description": "Product image id."
                },
                "pos": {
                  "id": "pos",
                  "type": "integer",
                  "description": "Product image position."
                },
                "url_original": {
                  "id": "url_original",
                  "type": "string",
                  "description": "Original image url.",
                  "pattern": "^(https?|ftp):\/\/.+$"
                },
                "url_big": {
                  "id": "url_big",
                  "type": "string",
                  "description": "Large image url.",
                  "pattern": "^(https?|ftp):\/\/.+$"
                },
                "url_medium": {
                  "id": "url_medium",
                  "type": "string",
                  "description": "Medium image url.",
                  "pattern": "^(https?|ftp):\/\/.+$"
                },
                "url_small": {
                  "id": "url_small",
                  "type": "string",
                  "description": "Thumbnail image url.",
                  "pattern": "^(https?|ftp):\/\/.+$"
                }
              }
            }
          ]
        },
        "brand": {
          "id": "brand",
          "type": "object",
          "description": "Product brand.",
          "properties": {
            "id": {
              "id": "id",
              "type": "integer",
              "description": "Brand id."
            },
            "name": {
              "id": "name",
              "type": "object",
              "description": "Brand name in given language.",
              "properties": {
                "language": {
                  "id": "language",
                  "type": "string",
                  "description": "Brand name language."
                },
                "value": {
                  "id": "value",
                  "type": "string",
                  "description": "Brand name."
                }
              }
            }
          }
        },
        "variants": {
          "id": "variants",
          "type": "array",
          "description": "List of product variants.",
          "items": [
            {
              "type": "object",
              "properties": {
                "original_reference": {
                  "id": "original_reference",
                  "type": "string",
                  "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
                }
              }
            }
          ]
        },
        "shipping": {
          "id": "shipping",
          "type": "array",
          "description": "List of product shipping providers / shipping options.",
          "items": [
            {
              "type": "object",
              "properties": {
                "shipping_service": {
                  "id": "shipping_service",
                  "type": "string",
                  "description": "Shipping service name."
                },
                "price": {
                  "id": "price",
                  "type": "number",
                  "description": "Shipping service price."
                }
              }
            }
          ]
        }
      },
      "required": [
        "url",
        "created_at",
        "active",
        "description",
        "categories",
        "picture_urls",
        "stock_information"
      ]
    }
  ]
}
```

## Address Version 1.0
```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.com/v1/address.v1.2.schema.json",
  "type": "object",
  "properties": {
    "type": {
      "id": "type",
      "type": "string"
    },
    "name": {
      "id": "name",
      "type": "string",
      "description": "The name of the person or entity this address belongs to."
    },
    "line_1": {
      "id": "line_1",
      "type": "string",
      "description": "Additional information to further specify this address."
    },
    "line_2": {
      "id": "line_2",
      "type": "string",
      "description": "Additional information to further specify this address."
    },
    "city": {
      "id": "city",
      "type": "string",
      "description": "The name of the city or town."
    },
    "region": {
      "id": "region",
      "type": "string",
      "description": "The first-level administrative division of the country, e.g. a state, province, or region name."
    },
    "zip": {
      "id": "zip",
      "type": "string",
      "description": "The postal code."
    },
    "country": {
      "id": "country",
      "type": "string",
      "pattern": "[A-Z]{2}",
      "description": "ISO 3166-1 alpha-2 letter country codes."
    },
    "verified": {
      "id": "verified",
      "type": "boolean"
    },
    "default": {
      "id": "default",
      "type": "boolean",
      "description": "True, if this address is set as the default address."
    }
  }
}
```

## Contact Version 1.0
```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.com/v1/contact.v1.0.schema.json",
  "type": "object",
  "properties": {
    "addresses": {
      "id": "contact/addresses",
      "type": "array",
      "items": {
        "$ref": "./address.v1.2.schema.json#/"
      }
    },
    "emails": {
      "id": "contact/emails",
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "value"
        ],
        "properties": {
          "value": {
            "type": "string",
            "pattern": "^[a-zA-Z0-9\\.!#$%&'*+/=?^_`{|}~-]+@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])$"
          },
          "type": {
            "type": "string"
          },
          "verified": {
            "type": "boolean"
          },
          "default": {
            "type": "boolean"
          }
        }
      }
    },
    "phones": {
      "id": "contact/phones",
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "value"
        ],
        "properties": {
          "value": {
            "type": "string",
            "pattern": "^[0-9+\\ -/\\(\\)]+$"
          },
          "type": {
            "type": "string"
          },
          "verified": {
            "type": "boolean"
          },
          "default": {
            "type": "boolean"
          }
        }
      }
    }
  }
}
```

## Currency Version 1.0
```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.com/v1/currency.v1.0.schema.json",
  "type": "string",
  "pattern": "^[A-Z]{3}$"
}
```

## Snippet Version 1.0

```json
{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/frontend.snippet.v1.0.schema.json",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier of the snippet content"
    },
    "type": {
      "type": "string",
      "description": "Type of the snippet content",
      "enum": ["css", "html", "js"]
    },
    "source_id": {
      "type": "string",
      "description": "itembase shop identifier"
    },
    "original_reference": {
      "type": "string",
      "description": "Original id of the entity on shop side"
    },
    "alias": {
      "type": "string",
      "description": "SP specific alias for the snippet"
    },
    "content": {
      "type": "string",
      "description": "Actual snippet code"
    },
    "placements": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "page": {
            "$ref": "./frontend.page.v1.0.schema.json#/"
          },
          "location": {
            "$ref": "./frontend.page.location.v1.0.schema.json#/"
          }
        }
      },
      "required": [
        "page",
        "location"
      ]
    },
    "created_at": {
      "type": "string",
      "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    },
    "updated_at": {
      "type": "string",
      "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    }
  },
  "required": [
    "type",
    "content",
    "placements"
  ]


```

## Job Version 1.0

POST /snippets requests will return a job. You can query this job then to determine if the job has been completed.

```json

{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "id": {
      "type": "string"
    },
    "status": {
      "type": "string"
    },
   "created_at": {
      "type": "string",
      "description": "An ISO 8601 date format, i.e. YYYY-MM-DDThh:mm:ss.sTZD.",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    },
   "finished_at": {
      "type": "string",
      "description": "An ISO 8601 date format, i.e. YYYY-MM-DDThh:mm:ss.sTZD.",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    },
    "entity_id": {
      "type": "string"
    }
  },
  "required": [
    "id",
    "status",
    "created_at"
  ]
}
```

## Errors

Errors are returned as an error message object along with the appropriate HTTP status code:

```shell
{                                                                                                                                                                                                                                         
  "message": "Not found.",                                                                                                                                                                                                                
  "code": 404                                                                                                                                                                                                                             
} 
```

The following error codes are used:

Error Code | Meaning
---------- | -------
400 | Bad Request
401 | Unauthorized -- Your client_id is wrong or the user has not granted access yet
403 | Forbidden
404 | Not Found -- The specified id could not be resolved
405 | Method Not Allowed -- PUT / PATCH / POST will be implemented in /v2
500 | Internal Server Error -- We had a problem with our server. Try again later.
503 | Service Unavailable -- We're temporarially offline for maintanance. Please try again later.