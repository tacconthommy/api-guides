<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
    <script src="javascripts/scripts.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="head" id="header">
        	<div class="container">
            	<div class="logo pull-left">
            	     <a title="" href="https://developers.itembase.com"><img class="white-logo" src="images/logo.png" alt="itembase"></a>
            	</div>                
                <div class="pull-right">
                    <div class="navbar navbar-static-top bs-docs-nav" role="banner">
                    <div class="navbar-header">
                        <button id="nav-toggle" class="navbar-toggle collapsed" type="button">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <nav id="bs-navbar">
                        <ul class="nav navbar-nav">
                            <li><a href="https://developers.itembase.com/products">Product</a></li>
                            <li class="dropdown active"><a href="https://developers.itembase.com/api">API</a>
                            	<ul class="container">
                                    <li class="active"><a href="http://itembase.github.io/api-guides/">Guides</a></li>
                                    <li><a href="https://developers.itembase.com/api/docs/">API Reference</a></li>
                                    <li><a href="https://developers.itembase.com/api/clients">API Client Management</a></li>
                                    <li><a href="https://itembase.github.io/api-notes/">Developer Notes</a></li>
                                    <li><a href="https://developers.itembase.com/contact/api_feedback">Report An Issue</a></li>
                                </ul>
                            </li>
                            <li><a href="https://developers.itembase.com/api/docs/">API Reference</a></li>
                            <li class="login"><a href="https://developers.itembase.com/google-login">Login with itembase</a></li>
                        </ul>
                    </nav>
                 </div>
                </div>
            </div>
        </div>
    <div class="main-content">
    <div class="container">
       
    <div class="tocify-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
    
 
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://devportal.itembase.co:8083/api/clients'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    
   </div>
    
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="tl-dr">tl;dr</h1>

<p>You need to <a href="/api/clients">register  your application</a> to get a client_id.</p>

<p>You can issue (oauth2 authorized) range queries by datetimes (using created_at_from/-to) or get single entities by id.</p>

<p>Each entity (e.g. /users/{user_id}/transaction) is a valid endpoint. Please refer to the <a href="#entities">entities section</a> for a list of entities and their json schema definitions. Entities that originate from the same data connection have the same <i>source_id</i> attribute.</p>

<p>A first example:
<p align="center"><iframe height="520" src="https://showterm.io/63c932204e8a00a6546f4#slow" width="640"></iframe></p></p>

<p>Example source:</p>
<pre class="highlight shell"><code><span class="c">#!/bin/bash</span>

clear
<span class="nb">echo
echo</span> <span class="s2">"let's do an uncompressed http request."</span>
<span class="nb">echo</span> <span class="s2">"we will aim for a non existing user to provoke a 404."</span>
<span class="nb">echo
echo
echo
echo
</span>sleep 3
curl --verbose -X GET --header <span class="s2">"Accept: application/json"</span> --header <span class="s2">"Authorization: Bearer ZWY0NDRjMjQ5NDU1YmQ3YjNhMjdhNTAwOWY3NmZhZjNjZjk1ZDRhZTJmM2IxNzAzYWY5YzczNDI5ZTU5NzYyMQ"</span> <span class="s2">"http://sandbox.api.itembase.io/v1/users/123thisiswrong"</span> | jq .
<span class="nb">echo
echo</span> <span class="s2">"the expected response is a json with a well-defined http error code."</span>
sleep 1
<span class="nb">echo
echo</span> <span class="s2">"the API supports auto-negotiated compression:"</span>
sleep 3
curl --compressed --verbose -X GET --header <span class="s2">"Accept: application/json"</span> --header <span class="s2">"Authorization: Bearer ZWY0NDRjMjQ5NDU1YmQ3YjNhMjdhNTAwOWY3NmZhZjNjZjk1ZDRhZTJmM2IxNzAzYWY5YzczNDI5ZTU5NzYyMQ"</span> <span class="s2">"http://sandbox.api.itembase.io/v1/users/123thisiswrong"</span> | jq .
<span class="nb">echo
echo</span> <span class="s2">"let's fetch us some transaction from the ebay sandbox.."</span>
<span class="nb">echo
echo
echo
echo
</span>sleep 3
curl --compressed --verbose -X GET --header <span class="s2">"Accept: application/json"</span> --header <span class="s2">"Authorization: Bearer ZWY0NDRjMjQ5NDU1YmQ3YjNhMjdhNTAwOWY3NmZhZjNjZjk1ZDRhZTJmM2IxNzAzYWY5YzczNDI5ZTU5NzYyMQ"</span> <span class="s2">"http://sandbox.api.itembase.io/v1/users/13ac2c74-7de3-4436-9a6d-2c94dd2b1fd3/transactions/ad0fab39aac5a5999df2f28b"</span> | jq .
<span class="nb">echo
</span>sleep 2
<span class="nb">echo</span> <span class="s2">"awesome. thanks for watching!"</span>
<span class="nb">echo</span> <span class="s2">"- the itembase team"</span>
<span class="nb">echo
</span>cat &lt;&lt; <span class="s2">"EOF"</span>
  ___  __       _                       _                        
 |__ <span class="se">\/</span>_ |     | |                     | |                       
    <span class="o">)</span> <span class="o">||</span> | ___ | |_    ___  ___  _ __  | |_  _   _  _ __  _   _  
   / / | |/ __|| __|  / __|/ _ <span class="se">\|</span> <span class="s1">'_ \ | __|| | | || '</span>__|| | | | 
  / /_ | |<span class="se">\_</span>_ <span class="se">\|</span> |_  | <span class="o">(</span>__|  __/| | | <span class="o">||</span> |_ | |_| <span class="o">||</span> |   | |_| | 
 |____||_||___/ <span class="se">\_</span>_|  <span class="se">\_</span>__|<span class="se">\_</span>__||_| |_| <span class="se">\_</span>_| <span class="se">\_</span>_,_||_|    <span class="se">\_</span>_, | 
         _____                                             __/ | 
        / ____|                                           |___/  
   ___ | |      ___   _ __ ___   _ __ ___    ___  _ __  ___  ___ 
  / _ <span class="se">\|</span> |     / _ <span class="se">\ </span>| <span class="s1">'_ ` _ \ | '</span>_ <span class="sb">`</span> _ <span class="se">\ </span> / _ <span class="se">\|</span> <span class="s1">'__|/ __|/ _ \
 |  __/| |____| (_) || | | | | || | | | | ||  __/| |  | (__|  __/
  \___| \_____|\___/ |_| |_| |_||_| |_| |_| \___||_|   \___|\___|

EOF
echo
echo


</span></code></pre>

<h1 id="getting-started">Getting Started</h1>

<ol>
<li>To use any API provided by itembase, you have to <a href="/api/clients">register your client</a> with our servers.</li>
<li>To get authorized API access via OAuth 2.0, or to use the itembase API as a sign-on service, <a href="auth">you need to authorize</a> with this information:</li>
<li>A <em>client id</em> which identifies your client with the server (one for sandbox, one for production)</li>
<li>A <em>client secret</em> which you use to perform certain operations during auth process <aside class="warning">keep it in a safe place and <strong>never expose it</strong> to a client</aside></li>
<li>One or more <em>redirect uris</em> (on your side) that can be used to send an auth code to you – there is a restricted set of URLs per client
We are following the Oauth2 standard. Check out <a href="https://www.youtube.com/watch?v=io_r-0e3Qcw">this excellent video tutorial by KnpUniversity</a> which explains OAuth2 very well.</li>
<li>By default, only the basic user information is available to you even if you have gained the user&rsquo;s authorization. Therefore you may want to activate the data flow from the data connector to the API. To complete this process, you need:</li>
<li>An additional <em>redirect uri</em> that is known on our side and where the activation endpoint will redirect after the process finished.</li>
</ol>

<h1 id="reporting-issues">Reporting Issues</h1>

<p>Naturally we aim to deliver a reliable, well-behaving and well-documented service. Please tell us if you stumble across an issue you believe we need to address. We have open sourced our documentation as well so that you can raise issues there as well. Please report issues or raise pull requests here:</p>

<table><thead>
<tr>
<th>Component</th>
<th>Link</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>The <strong>API</strong> itself</td>
<td><a href="http://devportal.itembase.co:8083/contact/api_feedback">Report an Issue form</a></td>
<td>Any of our public APIs. We working on a public issue tracker.</td>
</tr>
<tr>
<td><em>This</em> <strong>Guides</strong> section</td>
<td><a href="https://github.com/itembase/api-guides/issues">github.com/itembase/api-guides/issues</a></td>
<td></td>
</tr>
<tr>
<td><strong>API Documentation</strong> section</td>
<td><a href="https://github.com/itembase/api-guides/issues">github.com/itembase/api-swagger/issues</a></td>
<td>This is the swagger API explorer. Issues with the swagger-ui can be posted <a href="https://github.com/swagger-api/swagger-ui">here</a>.</td>
</tr>
</tbody></table>

<h1 id="sandbox-vs-production">Sandbox vs Production</h1>

<p>We have versions for all of our services on our Sandbox and Production system.
You can find the relevant URLs here:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Production</th>
<th>Sandbox</th>
</tr>
</thead><tbody>
<tr>
<td>OAuth2 auth URL</td>
<td>https://accounts.itembase.com/oauth/v2/auth</td>
<td>http://sandbox.accounts.itembase.io/oauth/v2/auth</td>
</tr>
<tr>
<td>OAuth2 token URL</td>
<td>https://accounts.itembase.com/oauth/v2/token</td>
<td>http://sandbox.accounts.itembase.io/oauth/v2/token</td>
</tr>
<tr>
<td>User info URL</td>
<td>https://users.itembase.com/v1/me</td>
<td>http://sandbox.users.itembase.io/v1/me</td>
</tr>
<tr>
<td>Activation endpoint</td>
<td>https://solutionservice.itembase.com</td>
<td>http://sandbox.solutionservice.itembase.io</td>
</tr>
<tr>
<td>API endpoint</td>
<td>https://api.itembase.io</td>
<td>http://sandbox.api.itembase.io</td>
</tr>
</tbody></table>

<p>Transport in the production system is over HTTPS.</p>

<h1 id="accessing-your-shop-data">Accessing Your Shop Data</h1>

<p>Out-of-the-box you can connect any platform-based shop (like eBay, shopify or bigcommerce) using the wizard in <a href="http://connect.itembase.com/#/ib/connect/platforms">our solution portal</a>. For standalone shops like Magento you can download and install the necessary itembase connector plugin. The solution portal will ask your permission to access your shop&rsquo;s data and then tell our connectors to collect and forward the data to our API. In order to access the data, you will need to implement an API client that implements the &ldquo;activation flow&rdquo; (see above) and register it with us for production usage.<aside class="success">This flow was designed with solution providers in mind. If you would like us to implement a feature that gives you instant access as soon as you connect your shop, please contact us.</aside></p>

<p>Data from your shop is made available via our API using our <em>connectors</em> which use a private, internal API for writing data. Our public API /v1 is read-only. We are currently developing /v2 which will support PUT/PATCH/POST operations.
<aside class="success">Version 2 of our public API will support PUT, PATCH and POST operations. You will also be able to access stylesheets and other snippets.</aside></p>

<h1 id="getting-all-new-and-updated-products">Getting All New and Updated Products</h1>

<p>Assuming that you already obtained a valid access token and activated your solution for a user:</p>

<ul>
<li><code class="prettyprint">access_token</code>: your OAuth2 client can get this using its client_id and refresh token</li>
<li><code class="prettyprint">user_id</code>: the uuid of the user that has granted you access</li>
<li><code class="prettyprint">base_url</code>: http://sandbox.api.itembase.io/v1/users</li>
<li><code class="prettyprint">resource</code>: the resource you want to access, like &ldquo;products&rdquo;</li>
</ul>

<p>All resources expose created_at_from/-to and updated_at_from/to query parameter that can easily be used to get all new and updated entities. Just make sure to set a &ldquo;to&rdquo; parameter so that you can reuse it in your next scheduled GET call. See our api reference (above) for more details.<aside class="success">We are currently working on using HTTP2&rsquo;s server side push functionality, to make scheduled GET jobs unncessary.</aside></p>
<pre class="highlight shell"><code><span class="c">#!/bin/bash</span>

access_token <span class="o">=</span> &lt; generate this using your oauth2.0 clients refresh token <span class="k">for </span>the given user &gt;
current_datetime <span class="o">=</span> &lt; generate the current datetime <span class="k">in </span>ISO 8601 format &gt;
last_check_datetime <span class="o">=</span> &lt; this is the last <span class="nb">time </span>the script was run, as date <span class="nb">time </span><span class="k">in </span>ISO 8601 format &gt;
user_id <span class="o">=</span> &lt; the id of the user that has granted you access &gt;
resource <span class="o">=</span> &lt; the name of the resource you want to get &gt;

<span class="nv">auth_header</span><span class="o">=</span><span class="s2">"Authorization: Bearer </span><span class="nv">$access_token</span><span class="s2">"</span>
<span class="nv">url</span><span class="o">=</span><span class="s2">"&lt;base_url&gt;/&lt;user_id&gt;/</span><span class="nv">$resource</span><span class="s2">?created_at_from=</span><span class="nv">$last_check_datetime</span><span class="s2">&amp;updated_at_to=</span><span class="nv">$current_datetime</span><span class="s2">"</span>

curl --compressed --verbose -X GET --header <span class="s2">"Accept: application/json"</span> --header <span class="nv">$auth_header</span> <span class="nv">$url</span> | jq .
</code></pre>

          <h1 id="authorization-authentication-activation">Authorization, authentication, activation</h1>

<p>We use OAuth 2.0 for authorization. Our auth server at <code class="prettyprint">accounts.itembase.com</code> combines an OAuth server that follows the standardized behaviour described in <a href="https://tools.ietf.org/html/rfc6749">the OAuth 2.0 RFC specification</a> and a login server for user authentication.</p>

<p>The following steps are necessary when a user authorizes your client to request data for his account from the itembase API. It is assumed that you follow the <code class="prettyprint">authorization_code</code> grant type / flow. Other flows work according to <a href="https://tools.ietf.org/html/rfc6749">the OAuth 2.0 RFC specification</a>.</p>

<h2 id="activation-or-authorization">Activation or Authorization?</h2>

<p>While the authorization is always necessary for a basic connection to our API, the activation steps might be optional for you, if you do not need any data besides basic user information. Please refer to this overview:</p>

<table><thead>
<tr>
<th>Use case</th>
<th>Implement authorization (OAuth)</th>
<th>Implement activation</th>
</tr>
</thead><tbody>
<tr>
<td>Use itembase as login/registration system</td>
<td>yes</td>
<td>no</td>
</tr>
<tr>
<td>Request basic user information</td>
<td>yes</td>
<td>no</td>
</tr>
<tr>
<td>Get access to itembase APIs</td>
<td>yes</td>
<td>yes</td>
</tr>
</tbody></table>

<p>It doesn&rsquo;t matter if the process is initiated from the third party (e.g. with a <strong>connect with itembase</strong> button on your side) or from itembase side (from the Solution Portal): It always works the same and requires no dedicated handling on the third party side.</p>

<p><img alt="itembase authentication and activation" src="http://developers.itembase.com/images/auth_activation.png" /></p>

<h2 id="about-scopes">About Scopes</h2>

<p>A scope describes what resources you are able to access and in which way (read, create, edit). During the autorization process they are shown to the user in a readable form. Currently itembase supports the following scopes:</p>

<table><thead>
<tr>
<th>Scope item</th>
<th>Readable form</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user.minimal</td>
<td>Read general user information</td>
<td>Information include e.g. user id, mail address etc. Needed for the /me call after authorization – Should always be included</td>
</tr>
<tr>
<td>connection.transaction</td>
<td>Read transactions from connected platforms</td>
<td>Get access to transaction data of connected shops</td>
</tr>
<tr>
<td>connection.product</td>
<td>Read product data from connected platforms</td>
<td>Get access to product data of connected shops</td>
</tr>
<tr>
<td>connection.profile</td>
<td>Read profile data from connected platforms</td>
<td>Get access to specific account data of a connected shop</td>
</tr>
<tr>
<td>connection.buyer</td>
<td>Read customer information from connected platforms</td>
<td>Get access to customer data of a connected shop</td>
</tr>
</tbody></table>

<p>The scope is a space seperated list of the scope items listed above. A valid example would be:</p>
<pre class="highlight plaintext"><code>user.minimal connection.transaction
</code></pre>

<p>This would give your client access to APIs that return basic user information and transaction data for user defined shop connections.</p>

<h2 id="initiating-the-process">Initiating the process</h2>

<p>You need to integrate a button in the frontend of your system that the user can click to connect his itembase account with your client. If he clicks it, you need to redirect to the authentication URL of our accounts server with your <em>client id</em>:</p>
<pre class="highlight plaintext"><code>https://accounts.itembase.com/oauth/v2/auth?response_type=code&amp;client_id=your_client_id&amp;scope=user.minimal&amp;redirect_uri=http://your.service/connect/itembase&amp;grant_type=authorization_code
</code></pre>

<p>Replace the placeholders with your actual data: <code class="prettyprint">your_client_id</code> becomes the client id you got from itembase, <code class="prettyprint">http://your.service/connect/itembase</code> the redirect URI you registered for your client. Also set the scope you need as value of the <code class="prettyprint">scope</code> parameter.</p>

<h2 id="the-authorization-and-authentication-step">The authorization and authentication step</h2>

<p>After the redirect to the authentication URL of the itembase accounts server, the itembase user will be authenticated. Depending on his login status, he may need to enter his username and password or even create a new account if he has none yet. This happens completely on our side.</p>

<p>When the user was authenticated successfully, he will see a website that asks him to accept or decline that your client wants to have access to his data on itembase. The dialogue lists all scopes you requested initially.</p>

<p>In case of an error (e.g. if the user does not accept), the itembase accounts server redirects to your <code class="prettyprint">redirect_uri</code> with an error response:</p>
<pre class="highlight plaintext"><code>http://your.service/connect/itembase?error=access_denied
</code></pre>

<p>If the user accepted your client, the itembase accounts server redirects to your <code class="prettyprint">redirect_uri</code> including an authorization code (parameter <code class="prettyprint">code</code>):</p>
<pre class="highlight plaintext"><code>http://your.service/connect/itembase?code=1234someauthcode
</code></pre>

<p>This code is only valid for some seconds and can only be used once. You need it to obtain a refresh token and an access token.</p>

<h2 id="obtaining-your-first-tokens">Obtaining your first tokens</h2>

<p>With the authorization code you can request an access token and a refresh token the first time. This request goes to the accounts server&rsquo;s token endpoint and <strong>has to be sent server side</strong> since it includes your client secret in this flow:</p>
<pre class="highlight plaintext"><code>https://accounts.itembase.com/oauth/v2/token?client_id=your_client_id&amp;client_secret=your_client_secret&amp;grant_type=authorization_code&amp;code=1234someauthcode&amp;redirect_uri=http://your.service/connect/
</code></pre>

<p>The <code class="prettyprint">redirect_uri</code> will be ignored in <em>authorization_code</em> flow, but still has to be given. Please use an allowed redirect_uri (e.g. the one from the <em>auth</em> call) for this. You will receice a JSON response that returns your tokens:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MjU5MGM0YjJkZmIyZDZmZmE3NGQwZGZkMzYxNTBhYjA2M2Vj"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">2592000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user.minimal"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ODk3YjA5MjM3YzNjMzQ1NjY5NDZiZGZjMDI2ODQ1NazZ2Vj"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The access token is valid for the one particular user you obtained it for. You need to store this data to be able to request our APIs. Tokens expire after a while:</p>

<table><thead>
<tr>
<th>Token type</th>
<th>Expires in</th>
</tr>
</thead><tbody>
<tr>
<td>Access token</td>
<td>1 hour</td>
</tr>
<tr>
<td>Refresh token</td>
<td>~34 days</td>
</tr>
</tbody></table>

<h2 id="obtaining-new-access-tokens-with-refresh-tokens">Obtaining new access tokens with refresh tokens</h2>

<p>If an acces token has expired, you can use a refresh token you obtained with it to get a new one. This works once again with the token endpoint of the accounts server:</p>
<pre class="highlight plaintext"><code>https://accounts.itembase.com/oauth/v2/token?client_id=your_client_id&amp;client_secret=your_client_secret&amp;grant_type=refresh_token&amp;refresh_token=your_refresh_token#
</code></pre>

<p>This call returns a JSON with a new set of tokens that replaces the old pair.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MjU5MGM0YjJkZmIyZDZmZmE3NGQwZGZkMzYxNTBhYjA2M2Vj"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">2592000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user.minimal"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ODk3YjA5MjM3YzNjMzQ1NjY5NDZiZGZjMDI2ODQ1NazZ2Vj"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You should obtain a new access token latest before your refresh token expires. If the refresh token expires as well, you will need to repeat the authorization/authentication process with the user involved to obtain a new pair of tokens.</p>

<h2 id="getting-basic-user-information">Getting basic user information</h2>

<p>For almost all API calls at itembase you need a user id. To obtain the one that your AccessToken is valid for, there is an user info call that you can use if <code class="prettyprint">user.minimal</code> is part of your scope:</p>
<pre class="highlight shell"><code>curl -X GET --header <span class="s2">"Authorization: Bearer your_access_token"</span> <span class="s2">"https://users.itembase.com/v1/me"</span>
</code></pre>

<p>This responds with basic user information, one of them is the <code class="prettyprint">uuid</code> of the itembase user:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4b91ee7-ec1a-49b9-afce-371dc8797749"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"thommy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tb@itembase.biz"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thomas"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"middle_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bretzke"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name_format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first middle last"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"preferred_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>We recommend you to store your access token and refresh token securely on your server along with the <code class="prettyprint">uuid</code> they are valid for. You can also create a user on your side or match the one that was currently logged in with the data you receive from this call.</p>

          <h2 id="activation">Activation</h2>

<p>While authorization allows your client to request data owned by an itembase user, activation is used to bind the data stream of a shop to the public API. Please note that this step is necessary if your client is part of the itembase solution directory and uses data from user defined data connections.</p>

<p>The activation process requires that you obtained a valid access token before (see above).</p>

<p>Activation contains of 2 simple steps: An API call and a redirect.</p>

<h3 id="get-the-activation-code">Get the activation code</h3>

<p>First you need to perform an API call (<strong>on server side</strong>) to our activation endpoint. Call it with a valid access token in the header:</p>
<pre class="highlight shell"><code>curl -X GET --header <span class="s2">"Authorization: Bearer your_access_token"</span> <span class="s2">"https://solutionservice.itembase.com/activate"</span>
</code></pre>

<p>The service will generate an <em>activation URL</em> for you that is valid for the user authenticated with the given access token and will expire at a given point in time. This is returned to you in a JSON response:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"activation_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://solutionservice.itembase.com/finish/some_activation_code"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1427361493</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Now the only thing that&rsquo;s left is to redirect to the URL. This will activate your solution for the itembase user. Depending of the starting point of the authentication / activation process, itembase will redirect back to you or to the itembase solution directory.</p>

<h3 id="activation-notification-optional">Activation notification (optional)</h3>

<p>Sometimes there is need to do additional some actions when activation is completed. In order to be notified about such event you can pass as <code class="prettyprint">GET</code> parameter <code class="prettyprint">notification_uri</code> where itembase system will send notification as soon as activation step is finalized succsefully after redirect to <code class="prettyprint">activation_url</code>.</p>

<p>So for example <code class="prettyprint">activation_url</code> should be modified like:</p>
<pre class="highlight plaintext"><code>https://solutionservice.itembase.com/finish/some_activation_code?notification_uri=http%3A%2F%2Fsome%2Fnotification%2Furi
</code></pre>

<h4 id="notification-payload">Notification payload</h4>

<p>As soon as activation step was succsefully completed a <code class="prettyprint">POST</code> request will be send to <code class="prettyprint">notification_uri</code> provided with the following payload:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"user_uuid"</span><span class="p">:</span><span class="s2">"user_uuid for which solution was activated"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The <code class="prettyprint">Content-type</code> header will be sent with value: <code class="prettyprint">application/json</code>.</p>

          <h1 id="errors">Errors</h1>

<p>Errors are returned as an error message object along with the appropriate HTTP status code:</p>
<pre class="highlight shell"><code><span class="o">{</span>                                                                                                                                                                                                                                         
  <span class="s2">"message"</span>: <span class="s2">"Not found."</span>,                                                                                                                                                                                                                
  <span class="s2">"code"</span>: 404                                                                                                                                                                                                                             
<span class="o">}</span> 
</code></pre>

<p>The following error codes are used:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your client_id is wrong or the user has not granted access yet</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified id could not be resolved</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; PUT / PATCH / POST will be implemented in /v2</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

          <h1 id="entities">Entities</h1>

<p><a name="entities"></a>The itembase API /v1 uses the following entities (in Json Schema notation).</p>

<p>There are four main entity types: Transaction, Product, Buyer and Profile.</p>

<aside class="notice">Entities that originate from the same data connection have the same source_id. Get the Profile resource which describes the user&rsquo;s profile on the remote platform (e.g. a seller&rsquo;s account, a shop profile) to understand where the related entities (i. E. with the same source_id) originate.</aside>

<h2 id="profile-version-1-2">Profile Version 1.2</h2>

<p>The Profile resource describes the connected profile on the remote platform (e.g. an eBay seller&rsquo;s account, a Magento installation&rsquo;s shop information). Get the Profile resource which describes the user&rsquo;s profile on the remote platform (e.g. a seller&rsquo;s account, a shop profile) to understand where the related entities (i. E. with the same source_id) originate.</p>
<pre class="highlight plaintext"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.com/v1/profile.v1.2.schema.json",
  "type": "object",
  "required": [
    "id",
    "source_id",
    "original_reference",
    "platform_name",
    "created_at"
  ],
  "properties": {
    "id": {
      "id": "id",
      "type": "string"
    },
    "source_id": {
      "id": "source_id",
      "type": "string"
    },
    "original_reference": {
      "id": "original_reference",
      "type": "string",
      "description": "The identifier of this profile's owner as defined by the source, e.g. an eBay EIASToken."
    },
    "platform_id": {
      "id": "platform_id",
      "type": "string",
      "description": "Identifier of the platform as defined by the source itself, for instance, amazon.com id is: ATVPDKIKX0DER"
    },
    "platform_name": {
      "id": "platform_name",
      "type": "string",
      "description": "Name of the platform, mostly a domain name like amazon.com"
    },
    "active": {
      "id": "active",
      "type": "boolean"
    },
    "status": {
      "id": "status",
      "type": "string"
    },
    "type": {
      "id": "type",
      "type": "string"
    },
    "display_name": {
      "id": "display_name",
      "type": "string",
      "description": "The name of the resource owner's account on the remote platform, e.g. an eBay username."
    },
    "url": {
      "id": "url",
      "type": "string",
      "pattern": "^(https?|ftp|mailto)?:\/\/.+$"
    },
    "avatar_url": {
      "id": "avatar_url",
      "type": "string",
      "pattern": "^(https?|ftp):\/\/.+$"
    },
    "language": {
      "id": "language",
      "type": "string",
      "pattern": "^[a-z]{2}$"
    },
    "locale": {
      "id": "locale",
      "type": "string",
      "pattern": "^[a-z]{2}_[A-Z]{2}$"
    },
    "currency": {
      "$ref": "./currency.v1.0.schema.json#/"
    },
    "contact": {
      "$ref": "./contact.v1.0.schema.json#/"
    },
    "created_at": {
      "id": "created_at",
      "type": "string",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    },
    "updated_at": {
      "id": "updated_at",
      "type": "string",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    }
  }
}
</code></pre>

<h2 id="base-buyer-version-1-0">Base Buyer Version 1.0</h2>

<p>A base buyer is an abstract buyer schema.</p>
<pre class="highlight plaintext"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/base_buyer.v1.0.schema.json",
  "type": "object",
  "properties": {
    "id": {
      "id": "id",
      "type": "string",
      "description": "A hash of the original_reference and the source_id. Unique."
    },
    "source_id": {
      "id": "source_id",
      "type": "string",
      "description": "An alphanumerical string that identifies the source of this buyer. All entities that are generated by the same connection will have the same source_id."
    },
    "original_reference": {
      "id": "original_reference",
      "type": "string",
      "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
    }
  },
  "required": [
    "id",
    "source_id",
    "original_reference"
  ]
}
</code></pre>

<h2 id="buyer-version-1-2">Buyer Version 1.2</h2>

<p>Buyers are clients registered with a shop or platform (this means that the set of buyers is not necessarily the same as all participants a shop&rsquo;s transactions.</p>
<pre class="highlight plaintext"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/buyer.v1.2.schema.json",
  "type": "object",
  "allOf": [
    {
      "$ref": "./base_buyer.v1.0.schema.json#/"
    },
    {
      "properties": {
        "display_name": {
          "id": "display_name",
          "type": "string",
          "description": "Displayed buyer name i.e. first name and last name or user name."
        },
        "url": {
          "id": "url",
          "type": "string",
          "description": "A url to this buyer.",
          "pattern": "^(https?|ftp|mailto):\/\/.+$"
        },
        "active": {
          "id": "active",
          "type": "boolean",
          "description": "Whether the customer's account is active or deactivated."
        },
        "status": {
          "id": "status",
          "type": "string",
          "description": "Status of the buyer.",
          "enum": [
            "new",
            "confirmed",
            "deleted"
          ]
        },
        "type": {
          "id": "type",
          "type": "string",
          "description": "Type of the buyer.",
          "enum": [
            "company",
            "person",
            "government",
            "other"
          ]
        },
        "first_name": {
          "id": "first_name",
          "type": "string",
          "description": "First name."
        },
        "last_name": {
          "id": "last_name",
          "type": "string",
          "description": "Last name."
        },
        "language": {
          "id": "language",
          "type": "string",
          "description": "ISO 639-1 2 letter code of the language.",
          "pattern": "^[a-z]{2}$"
        },
        "locale": {
          "id": "locale",
          "type": "string",
          "description": "ISO 639-1 (language) followed by and underscore and a ISO 3166-1 alpha-2 (2-letter country) code.",
          "pattern": "^[a-z]{2}_[A-Z]{2}$"
        },
        "currency": {
          "$ref": "./currency.v1.0.schema.json#/"
        },
        "date_of_birth": {
          "id": "date_of_birth",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DD.",
          "pattern": "^[1-2][0-9]{3}-[0-9]{2}-[0-9]{2}$"
        },
        "opt_out": {
          "id": "opt_out",
          "type": "boolean",
          "description": "If the buyer has opted-out of any marketing communication."
        },
        "note": {
          "id": "note",
          "type": "string",
          "description": "Free-text notes."
        },
        "contact": {
          "$ref": "./contact.v1.0.schema.json#/"
        },
        "created_at": {
          "id": "created_at",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
          "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
        },
        "updated_at": {
          "id": "updated_at",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
          "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
        }
      },
      "required": [
        "created_at"
      ]
    }
  ]
}
</code></pre>

<h2 id="transaction-version-1-4">Transaction Version 1.4</h2>
<pre class="highlight plaintext"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/transaction.v1.4.schema.json",
  "type": "object",
  "properties": {
    "id": {
      "id": "id",
      "type": "string",
      "description": "A hash of the original_reference and the source_id. Unique."
    },
    "source_id": {
      "id": "source_id",
      "type": "string",
      "description": "An alphanumerical string that identifies the source of this transaction. All entities that are generated by the same connection will have the same source_id."
    },
    "original_reference": {
      "id": "original_reference",
      "type": "string",
      "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
    },
    "created_at": {
      "id": "created_at",
      "type": "string",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    },
    "updated_at": {
      "id": "updated_at",
      "type": "string",
      "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
    },
    "currency": {
      "id": "currency",
      "type": "string",
      "pattern": "^[A-Z]{3}$",
      "description": "An ISO4217 currency code."
    },
    "total_price": {
      "id": "total_price",
      "type": "number",
      "description": "The total price of this transaction including taxes, shipping etc.",
      "minimum": 0
    },
    "total_price_net": {
      "id": "total_price_net",
      "type": "number",
      "description": "The total price of this transaction without taxes.",
      "minimum": 0
    },
    "total_tax": {
      "id": "total_tax",
      "type": "number",
      "description": "The total taxes paid for this.",
      "minimum": 0
    },
    "status": {
      "id": "status",
      "type": "object",
      "properties": {
        "global": {
          "id": "global",
          "type": "string",
          "enum": [
            "open",
            "completed",
            "cancelled"
          ]
        },
        "payment": {
          "id": "payment",
          "type": "string",
          "enum": [
            "not_paid",
            "processing",
            "partial",
            "paid",
            "cancelled",
            "refunded"
          ]
        },
        "shipping": {
          "id": "payment",
          "type": "string",
          "enum": [
            "not_shipped",
            "pickpack",
            "pending",
            "partial",
            "completed",
            "returned"
          ]
        }
      },
      "required": [
        "global"
      ]
    },
    "products": {
      "id": "products",
      "type": "array",
      "items": {
        "allOf": [
          {
            "$ref": "./product.v1.2.schema.json#/"
          },
          {
            "properties": {
              "quantity": {
                "id": "quantity",
                "type": "number",
                "minimum": 0
              },
              "total_line_items": {
                "id": "total_line_items",
                "type": "number",
                "description": "The total of this line item including taxes.",
                "minimum": 0
              },
              "tax_rate": {
                "id": "tax_rate",
                "type": "number",
                "description": "The tax rate in percent, i.E. from 0 to 100.",
                "minimum": 0,
                "maximum": 100
              },
              "total_line_items_tax": {
                "id": "total_line_items_tax",
                "type": "number",
                "description": "The total tax of this line item.",
                "minimum": 0
              },
              "shipping_provider": {
                "id": "shipping_provider",
                "type": "string",
                "description": "The name of the shipping service selected, as provied by the source."
              },
              "tracking_url": {
                "id": "tracking_url",
                "type": "string",
                "pattern": "^(https?|ftp):\/\/.+$",
                "description": "A URL to the shipment tracking."
              }
            },
            "required": [
              "quantity",
              "total_line_items",
              "tax_rate",
              "total_line_items_tax"
            ]
          }
        ]
      }
    },
    "shipping": {
      "id": "shipping",
      "type": "object",
      "description": "Contains this shipping destination and the cost of shipping to this address.",
      "allOf": [
        {
          "$ref": "./address.v1.2.schema.json#"
        },
        {
          "properties": {
            "price": {
              "id": "price",
              "type": "number",
              "minimum": 0
            }
          },
          "required": [
            "price"
          ]
        }
      ]
    },
    "billing": {
      "$ref": "./address.v1.2.schema.json#"
    },
    "buyer": {
      "$ref": "./buyer.v1.2.schema.json#"
    }
  },
  "required": [
    "id",
    "source_id",
    "original_reference",
    "created_at",
    "currency",
    "total_price",
    "total_price_net",
    "total_tax",
    "status",
    "products",
    "buyer"
  ]
}
</code></pre>

<h2 id="base-product-version-1-0">Base Product Version 1.0</h2>

<p>An abstract base product schema, used by Product Version 1.* schemas.</p>
<pre class="highlight plaintext"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/base_product.v1.0.schema.json",
  "type": "object",
  "properties": {
    "id": {
      "id": "id",
      "type": "string",
      "description": "A hash of the original_reference and the source_id. Unique."
    },
    "source_id": {
      "id": "source_id",
      "type": "string",
      "description": "An alphanumerical string that identifies the source of this product. All entities that are generated by the same connection will have the same source_id."
    },
    "original_reference": {
      "id": "original_reference",
      "type": "string",
      "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
    },
    "name": {
      "id": "name",
      "type": "array",
      "description": "List of product names in different languages.",
      "items": {
        "type": "object",
        "properties": {
          "language": {
            "id": "language",
            "type": "string",
            "description": "Language of product name."
          },
          "value": {
            "id": "value",
            "type": "string",
            "description": "Product name."
          }
        }
      }
    },
    "currency": {
      "$ref": "./currency.v1.0.schema.json#/"
    },
    "price_per_unit": {
      "id": "price_per_unit",
      "type": "number",
      "description": "Final gross price.",
      "minimum": 0
    },
    "tax_rate": {
      "id": "tax_rate",
      "type": "number",
      "description": "Tax percentage.",
      "minimum": 0,
      "maximum": 100
    },
    "tax": {
      "id": "tax",
      "type": "number",
      "description": "Tax value.",
      "minimum": 0
    },
    "identifier": {
      "id": "identifier",
      "type": "object",
      "description": "List of product identifiers.",
      "properties": {
        "sku": {
          "id": "sku",
          "type": "string",
          "description": "Sku identifier."
        },
        "ean": {
          "id": "ean",
          "type": "string",
          "description": "Sku identifier."
        },
        "asin": {
          "id": "asin",
          "type": "string",
          "description": "Asin identifier."
        },
        "upc": {
          "id": "upc",
          "type": "string",
          "description": "Upc identifier."
        },
        "mpn": {
          "id": "mpn",
          "type": "string",
          "description": "Mpn identifier."
        },
        "id": {
          "id": "id",
          "type": "string",
          "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
        }
      }
    }
  },
  "required": [
    "id",
    "source_id",
    "original_reference",
    "name",
    "currency",
    "price_per_unit",
    "tax_rate"
  ]
}
</code></pre>

<h2 id="product-version-1-2">Product Version 1.2</h2>

<p>This product entity extends the &ldquo;base product&rdquo; and is exposed via the API.</p>
<pre class="highlight plaintext"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.io/v1/product.v1.2.schema.json",
  "type": "object",
  "allOf": [
    {
      "$ref": "./base_product.v1.0.schema.json#/"
    },
    {
      "properties": {
        "url": {
          "id": "url",
          "type": "string",
          "description": "A url to this product.",
          "pattern": "^(https?|ftp):\/\/.+$"
        },
        "created_at": {
          "id": "created_at",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
          "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
        },
        "updated_at": {
          "id": "updated_at",
          "type": "string",
          "description": "An ISO 8601 date format, i.E. YYYY-MM-DDThh:mm:ss.sTZD.",
          "pattern": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$"
        },
        "active": {
          "id": "active",
          "type": "boolean",
          "description": "Whether the product is active or deactivated."
        },
        "condition": {
          "id": "condition",
          "enum": [
            "new",
            "used",
            "refurbished"
          ],
          "type": "string",
          "description": "Product condition."
        },
        "stock_information": {
          "id": "stock_information",
          "type": "object",
          "description": "Stock information object.",
          "properties": {
            "in_stock": {
              "id": "in_stock",
              "type": "boolean",
              "description": "Whether the product i in stock or not."
            },
            "inventory_level": {
              "id": "inventory_level",
              "type": "number",
              "description": "Amount of products units in stock.",
              "minimum": 0
            },
            "inventory_unit": {
              "id": "inventory_unit",
              "type": "string",
              "description": "Type of product inventory unit."
            }
          },
          "required": [
            "in_stock"
          ]
        },
        "description": {
          "id": "description",
          "type": "array",
          "description": "List of product descriptions in different languages.",
          "items": {
            "type": "object",
            "properties": {
              "language": {
                "id": "language",
                "type": "string",
                "description": "Language of product description."
              },
              "value": {
                "id": "value",
                "type": "string",
                "description": "Product description."
              }
            }
          }
        },
        "additional_attributes": {
          "id": "additional_attributes",
          "type": "object",
          "description": "Product attributes.",
          "properties": {
            "colors": {
              "id": "colors",
              "type": "array",
              "description": "Array with product colors.",
              "items": {
                "type": "string"
              }
            },
            "sizes": {
              "id": "sizes",
              "type": "array",
              "description": "Array with product sizes.",
              "items": {
                "type": "string"
              }
            },
            "weight": {
              "id": "weight",
              "type": "number",
              "description": "Product weight."
            },
            "dimensions": {
              "id": "dimensions",
              "type": "object",
              "description": "Product dimensions.",
              "properties": {
                "length": {
                  "id": "length",
                  "type": "number",
                  "description": "Product length."
                },
                "width": {
                  "id": "width",
                  "type": "number",
                  "description": "Product width."
                },
                "height": {
                  "id": "height",
                  "type": "number",
                  "description": "Product height."
                }
              },
              "required": [
                "length",
                "width",
                "height"
              ]
            }
          }
        },
        "categories": {
          "id": "categories",
          "type": "array",
          "description": "List of product categories.",
          "items": {
            "type": "object",
            "properties": {
              "category_id": {
                "id": "category_id",
                "type": "string",
                "description": "Product category id."
              },
              "language": {
                "id": "language",
                "type": "string",
                "description": "Product category name language.",
                "pattern": "^[A-Za-z]{2}$"
              },
              "value": {
                "id": "value",
                "type": "string",
                "description": "Product category name."
              }
            }
          }
        },
        "picture_urls": {
          "id": "picture_urls",
          "type": "array",
          "description": "List of product images.",
          "items": [
            {
              "type": "object",
              "properties": {
                "id": {
                  "id": "id",
                  "type": "integer",
                  "description": "Product image id."
                },
                "pos": {
                  "id": "pos",
                  "type": "integer",
                  "description": "Product image position."
                },
                "url_original": {
                  "id": "url_original",
                  "type": "string",
                  "description": "Original image url.",
                  "pattern": "^(https?|ftp):\/\/.+$"
                },
                "url_big": {
                  "id": "url_big",
                  "type": "string",
                  "description": "Large image url.",
                  "pattern": "^(https?|ftp):\/\/.+$"
                },
                "url_medium": {
                  "id": "url_medium",
                  "type": "string",
                  "description": "Medium image url.",
                  "pattern": "^(https?|ftp):\/\/.+$"
                },
                "url_small": {
                  "id": "url_small",
                  "type": "string",
                  "description": "Thumbnail image url.",
                  "pattern": "^(https?|ftp):\/\/.+$"
                }
              }
            }
          ]
        },
        "brand": {
          "id": "brand",
          "type": "object",
          "description": "Product brand.",
          "properties": {
            "id": {
              "id": "id",
              "type": "integer",
              "description": "Brand id."
            },
            "name": {
              "id": "name",
              "type": "object",
              "description": "Brand name in given language.",
              "properties": {
                "language": {
                  "id": "language",
                  "type": "string",
                  "description": "Brand name language."
                },
                "value": {
                  "id": "value",
                  "type": "string",
                  "description": "Brand name."
                }
              }
            }
          }
        },
        "variants": {
          "id": "variants",
          "type": "array",
          "description": "List of product variants.",
          "items": [
            {
              "type": "object",
              "properties": {
                "original_reference": {
                  "id": "original_reference",
                  "type": "string",
                  "description": "The original identifier in the data source, i. E. on the platform, in the shop system."
                }
              }
            }
          ]
        },
        "shipping": {
          "id": "shipping",
          "type": "array",
          "description": "List of product shipping providers / shipping options.",
          "items": [
            {
              "type": "object",
              "properties": {
                "shipping_service": {
                  "id": "shipping_service",
                  "type": "string",
                  "description": "Shipping service name."
                },
                "price": {
                  "id": "price",
                  "type": "number",
                  "description": "Shipping service price."
                }
              }
            }
          ]
        }
      },
      "required": [
        "url",
        "created_at",
        "active",
        "description",
        "categories",
        "picture_urls",
        "stock_information"
      ]
    }
  ]
}
</code></pre>

<h2 id="address-version-1-0">Address Version 1.0</h2>
<pre class="highlight plaintext"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.com/v1/address.v1.2.schema.json",
  "type": "object",
  "properties": {
    "type": {
      "id": "type",
      "type": "string"
    },
    "name": {
      "id": "name",
      "type": "string",
      "description": "The name of the person or entity this address belongs to."
    },
    "line_1": {
      "id": "line_1",
      "type": "string",
      "description": "Additional information to further specify this address."
    },
    "line_2": {
      "id": "line_2",
      "type": "string",
      "description": "Additional information to further specify this address."
    },
    "city": {
      "id": "city",
      "type": "string",
      "description": "The name of the city or town."
    },
    "region": {
      "id": "region",
      "type": "string",
      "description": "The first-level administrative division of the country, e.g. a state, province, or region name."
    },
    "zip": {
      "id": "zip",
      "type": "string",
      "description": "The postal code."
    },
    "country": {
      "id": "country",
      "type": "string",
      "pattern": "[A-Z]{2}",
      "description": "ISO 3166-1 alpha-2 letter country codes."
    },
    "verified": {
      "id": "verified",
      "type": "boolean"
    },
    "default": {
      "id": "default",
      "type": "boolean",
      "description": "True, if this address is set as the default address."
    }
  }
}
</code></pre>

<h2 id="contact-version-1-0">Contact Version 1.0</h2>
<pre class="highlight plaintext"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.com/v1/contact.v1.0.schema.json",
  "type": "object",
  "properties": {
    "addresses": {
      "id": "contact/addresses",
      "type": "array",
      "items": {
        "$ref": "./address.v1.2.schema.json#/"
      }
    },
    "emails": {
      "id": "contact/emails",
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "value"
        ],
        "properties": {
          "value": {
            "type": "string",
            "pattern": "^[a-zA-Z0-9\\.!#$%&amp;'*+/=?^_`{|}~-]+@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])$"
          },
          "type": {
            "type": "string"
          },
          "verified": {
            "type": "boolean"
          },
          "default": {
            "type": "boolean"
          }
        }
      }
    },
    "phones": {
      "id": "contact/phones",
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "value"
        ],
        "properties": {
          "value": {
            "type": "string",
            "pattern": "^[0-9+\\ -/\\(\\)]+$"
          },
          "type": {
            "type": "string"
          },
          "verified": {
            "type": "boolean"
          },
          "default": {
            "type": "boolean"
          }
        }
      }
    }
  }
}
</code></pre>

<h2 id="currency-version-1-0">Currency Version 1.0</h2>
<pre class="highlight plaintext"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.itembase.com/v1/currency.v1.0.schema.json",
  "type": "string",
  "pattern": "^[A-Z]{3}$"
}
</code></pre>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
    </div>
    </div>    
    <div class="footer text-center">
    	<div class="container">
        	<p>(c) 2016 itembase GmbH </p>
        </div>
    </div>
  </body>
</html>
